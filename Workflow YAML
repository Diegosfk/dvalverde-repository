name: Deploy Automático desde n8n

on:
  repository_dispatch:
    types:
      - deploy_cliente

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout del repositorio
        uses: actions/checkout@v3

      - name: Mostrar datos enviados desde n8n
        run: |
          echo "CLIENT_ID: ${{ github.event.client_id }}"
          echo "CLIENT_NAME: ${{ github.event.client_name }}"
          echo "DEPLOYMENT_PROFILE: ${{ github.event.deployment_profile }}"
          echo "CONFIG_URL: ${{ github.event.config_url }}"

      - name: Ejecutar despliegue real
        run: |
          echo "Iniciando despliegue para el cliente..."
          echo "Este es el punto donde agregarás:"
          echo "- Terraform"
          echo "- Render deploy"
          echo "- Serverless deploy"
          echo "- Docker build"
          echo "- Scripts de tu backend"
          echo "Despliegue completado."
